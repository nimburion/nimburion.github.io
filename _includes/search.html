<div class="search-overlay">
  <div class="search-panel">
    <div class="search-input-wrapper">
      <input 
        type="search" 
        class="search-input" 
        placeholder="Search documentation..."
        aria-label="Search"
      >
    </div>
    <div class="search-results" id="search-results">
      <div class="search-empty">
        Type to search documentation
      </div>
    </div>
  </div>
</div>

<script>
  // Basic search implementation (can be enhanced with Algolia/Lunr.js)
  (function() {
    const searchInput = document.querySelector('.search-input');
    const searchResults = document.getElementById('search-results');
    
    if (!searchInput || !searchResults) return;
    
    // Mock search data (replace with actual search index)
    const searchData = [
      {
        title: 'Getting Started',
        url: '/documentation/nimburion/getting-started/',
        excerpt: 'Quick start guide for Nimburion framework'
      },
      {
        title: 'Configuration',
        url: '/documentation/nimburion/getting-started/configuration-basics/',
        excerpt: 'Configure your service with environment variables and files'
      }
    ];
    
    searchInput.addEventListener('input', (e) => {
      const query = e.target.value.toLowerCase().trim();
      
      if (!query) {
        searchResults.innerHTML = '<div class="search-empty">Type to search documentation</div>';
        return;
      }
      
      const results = searchData.filter(item => 
        item.title.toLowerCase().includes(query) || 
        item.excerpt.toLowerCase().includes(query)
      );
      
      if (results.length === 0) {
        searchResults.innerHTML = '<div class="search-empty">No results found</div>';
        return;
      }
      
      searchResults.innerHTML = results.map(result => `
        <a href="${result.url}" class="search-result">
          <div class="search-result-title">${result.title}</div>
          <div class="search-result-excerpt">${result.excerpt}</div>
        </a>
      `).join('');
    });
    
    // Keyboard navigation
    searchInput.addEventListener('keydown', (e) => {
      const results = searchResults.querySelectorAll('.search-result');
      const selected = searchResults.querySelector('.search-result.selected');
      let index = Array.from(results).indexOf(selected);
      
      if (e.key === 'ArrowDown') {
        e.preventDefault();
        index = Math.min(index + 1, results.length - 1);
      } else if (e.key === 'ArrowUp') {
        e.preventDefault();
        index = Math.max(index - 1, 0);
      } else if (e.key === 'Enter' && selected) {
        e.preventDefault();
        selected.click();
        return;
      } else {
        return;
      }
      
      results.forEach(r => r.classList.remove('selected'));
      results[index]?.classList.add('selected');
    });
  })();
</script>
